<html>
  <head>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.rawgit.com/feiss/aframe-environment-component/ad57b15d/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/deepstream.io-client-js/2.1.1/deepstream.js"></script>
    <script src="https://unpkg.com/aframe-text-geometry-component@0.5.1/dist/aframe-text-geometry-component.min.js"></script>
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.dev.js"></script>

    <a-scene
      id="scene"
      physics="debug: false; iterations: 20; friction: 0; restitution: 0"
    >
      <a-assets>
        <img
          id="TableTop"
          src="https://cdn.glitch.com/1d80bea9-5dcd-4e8c-abba-b01e8ded694c%2FTable%20Top-3.png?v=1571514923170"
        />
        <img
          id="wall"
          src="https://cdn.glitch.com/1d80bea9-5dcd-4e8c-abba-b01e8ded694c%2FScreen%20Shot%202019-10-19%20at%2012.40.28%20PM.png?v=1571514066343"
        />
        <a-asset-item
          id="train-obj"
          src="https://cdn.glitch.com/1d80bea9-5dcd-4e8c-abba-b01e8ded694c%2Ftoy-train.obj?v=1571522584461"
        ></a-asset-item>
        <a-asset-item
          id="train-mtl"
          src="https://cdn.glitch.com/1d80bea9-5dcd-4e8c-abba-b01e8ded694c%2Ftoy-train.mtl?v=1571523203383"
        ></a-asset-item>
      </a-assets>

      <!-- <a-entity camera look-controls position="0 1.6 0"></a-entity> -->
      <a-entity
        camera
        look-controls
        wasd-controls
        position="12 1.6 -1"
      ></a-entity>

      <a-entity
        laser-controls="hand: left"
        raycaster="near: 0.5; far: 5001"
        line="color: #FFFFFF"
        class="laser-controls"
      ></a-entity>
      <a-entity
        laser-controls="hand: right"
        raycaster="near: 0.5; far: 5001"
        line="color: #FFFFFF"
        class="laser-controls"
      ></a-entity>

      <a-light type="ambient" color="#DCDCDC"></a-light>

      <a-light type="point" color="grey" position="0 50 5"></a-light>

      <a-plane
        position="0 0 -4"
        rotation="-90 0 0"
        width="40000"
        height="100"
        color="#2F4F4F"
        static-body
      ></a-plane>
      <a-box
        position="0 0.5 -3"
        rotation="0 0 0"
        color="#A52A2A"
        scale="3 1 -2"
      >
      </a-box
      ><!--bottom block of desk  -->
      <a-box
        position="0 1 -3"
        rotation="0 0 0"
        color="#696969"
        scale="3.5 0.2 3"
        static-body
        src="#TableTop"
      >
      </a-box>
      <!--top of desk  -->
      <a-entity
        id="box"
        geometry="primitive: box;"
        material="src: #TableTop"
        position="-1 1.6 -3"
        rotation="0 0 0"
        dynamic-body="mass: 10"
        friction="0.5"
        force-pushable
      ></a-entity>
      <!--box -->
      <a-box
        scale="0.2 20 20"
        position="-6 0 -5"
        color="#90EE90"
        static-body
      ></a-box>
      <a-box
        scale="0.2 20 20"
        position="6 0 -5"
        color="#90EE90"
        static-body
      ></a-box>
      <a-box
        scale="12 20 0.2"
        position="0 0 -15"
        color="#90EE90"
        static-body
      ></a-box>
      <a-box
        scale="12 20 0.2"
        position="0 0 5"
        color="#90EE90"
        static-body
      ></a-box>

      <a-box
        position="12 0.5 -3"
        rotation="0 0 0"
        color="#A52A2A"
        static-body
        scale="3 1 -2"
      >
      </a-box
      ><!--bottom block of desk  -->
      <a-box
        position="12 1 -3"
        rotation="0 0 0"
        color="#696969"
        scale="7 0.2 3"
        static-body
        friction="0"
        src="#TableTop"
      >
      </a-box>
      <a-box
        scale="0.2 20 20"
        position="18 0 -5"
        color="#90EE90"
        static-body
      ></a-box>
      <a-box
        scale="12 20 0.2"
        position="12 0 -15"
        color="#90EE90"
        static-body
      ></a-box>
      <a-box
        scale="12 20 0.2"
        position="12 0 5"
        color="#90EE90"
        static-body
      ></a-box>
      <a-obj-model
        id="train"
        scale="0.1 0.1 0.1"
        src="#train-obj"
        mtl="#train-mtl"
        position="9.93 1 -3"
        rotation="0 90 0"
        dynamic-body
      ></a-obj-model>
      <a-sphere
        id="ball"
        position="10 1.6 -3"
        rotation="0 0 0"
        color="#778899"
        radius="0.05"
        friction="0"
        dynamic-body
      >
      </a-sphere
      ><!--ball  -->
      <a-box
        position="9.4 1.5 -3"
        scale="0.2 1 1"
        color="#696969"
        src="#TableTop"
        static-body
      ></a-box>
      <a-box
        position="14.8 1.5 -3"
        scale="0.2 1 1"
        color="#696969"
        src="#TableTop"
        static-body
      ></a-box>
      <a-box
        position="10 1 0"
        rotation="0 0 0"
        color="#696969"
        scale="0.5 0.5 0.5"
      ></a-box>
      <a-box
        position="10 1 0.6"
        rotation="0 0 0"
        color="#696969"
        scale="0.5 0.5 0.5"
        ><a-animation
          attribute="rotation"
          begin="click"
          to="0 360 0"
        ></a-animation
      ></a-box>
      <a-box
        position="10 1 -0.6"
        rotation="0 0 0"
        color="#696969"
        scale="0.5 0.5 0.5"
      >
        <a-animation
          attribute="rotation"
          begin="click"
          to="0 360 0"
        ></a-animation
      ></a-box>
      <a-entity
        id="lesson2"
        visible="false"
        text="value: This lesson is about x-component \n and y-component velocity vectors. \n Look to the left and click on the box \n that you think has the correct answer; color: #000000 "
        position="11.8 2 -2"
      ></a-entity>
      <a-entity
        id="lesson2desc"
        visible="true"
        wrap-count="60"
        text="value: Welcome to class kids!\n This lesson will teach you direction dependent velocities\n To start, simply click anyone, wait 1 second, and click again; color: #000000 "
        position="11.8 2 -2"
      ></a-entity>
      <a-entity
        id="lesson2pollQ"
        text="value: When the system runs, both the ball and the train have the same x-velocity, but the ball has a y-velocity. So, will the ball go past, back on, or behind the train?; color: #000000 "
        position="10.5 1.5 0"
        rotation="0 90 0"
      ></a-entity>
      <a-entity
        id="lesson2poll1"
        text="value: Past; color: #000000 "
        position="10.5 1 -0.95"
        rotation="0 90 0"
      ></a-entity>
      <a-entity
        id="lesson2poll2"
        text="value: Behind; color: #000000 "
        position="10.5 1 0.1"
        rotation="0 90 0"
      ></a-entity>
      <a-entity
        id="lesson2poll3"
        text="value: Back On; color: #000000 "
        position="10.5 1 -0.4"
        rotation="0 90 0"
      ></a-entity>

      <a-sphere position="1 2.5 -6" radius="0.6" color="#A0522D"></a-sphere>
      <a-sphere
        position="1.15 2.5 -5.4"
        radius="0.05"
        color="#000000"
      ></a-sphere>
      <a-sphere
        position="0.78 2.5 -5.4"
        radius="0.05"
        color="#000000"
      ></a-sphere>
      <a-cylinder
        position="0.97 2.3 -5.65"
        scale="1 0.3 1"
        radius="0.2"
        color="#000000"
        rotation="60 0 0"
      ></a-cylinder>
      <a-cylinder position="1 2.3 -6" radius="0.2" color="#A0522D"></a-cylinder>
      <a-box position="1 1 -6" scale="1 1.7" color="#B0C4DE"></a-box>
      <a-cylinder
        position="0.4 1.6 -6"
        scale="1 2 1"
        radius="0.2"
        rotation="0 0 50"
        color="#A0522D"
      ></a-cylinder>
      <a-cylinder
        position="1.6 1 -6"
        scale="1 2 1"
        radius="0.2"
        rotation="0 0 60"
        color="#A0522D"
      ></a-cylinder>

      <a-sphere position="13 2.5 -6" radius="0.6" color="#A0522D"></a-sphere>
      <a-sphere
        position="13.15 2.5 -5.4"
        radius="0.05"
        color="#000000"
      ></a-sphere>
      <a-sphere
        position="12.78 2.5 -5.4"
        radius="0.05"
        color="#000000"
      ></a-sphere>
      <a-cylinder
        position="12.97 2.3 -5.65"
        scale="1 0.3 1"
        radius="0.2"
        color="#000000"
        rotation="60 0 0"
      ></a-cylinder>
      <a-cylinder
        position="13 2.3 -6"
        radius="0.2"
        color="#A0522D"
      ></a-cylinder>
      <a-box position="13 1 -6" scale="1 1.7" color="#B0C4DE"></a-box>
      <a-cylinder
        position="12.4 1.6 -6"
        scale="1 2 1"
        radius="0.2"
        rotation="0 0 50"
        color="#A0522D"
      ></a-cylinder>
      <a-cylinder
        position="13.6 1 -6"
        scale="1 2 1"
        radius="0.2"
        rotation="0 0 60"
        color="#A0522D"
      ></a-cylinder>

      <a-sky color="#87CEFA"></a-sky>
    </a-scene>

    <script>
            document.querySelector('body').addEventListener('click', function (evt) {
            document.querySelector('#train').body.velocity.set(1, 0, 0);
            document.querySelector('#ball').body.velocity.set(1, 3, 0);
        });



      //connecting to local socket
      /*var client = io("http://10.10.148.29:3000");

      client.emit("SIMULATION_JOIN", JSON.stringify({ name: "A" }));

      console.log("starting");
      client.on("SIMULATION_UPDATE", function(msg) {
        var data = JSON.parse(msg);
        window.alert("SKDAKMDSD");

         if (data.action == "LESSON2") {
          document.querySelector('#lesson2desc').object3D.visible = false;
           document.querySelector('#lesson2').object3D.visible = true;
        }
        else if (data.action == "EXPLANATION2") {
            document.querySelector('body').addEventListener('click', function (evt) {
            document.querySelector('#train').body.velocity.set(1, 0, 0);
            document.querySelector('#ball').body.velocity.set(1, 3, 0);
        });
        }});
              */
        
    </script>
  </body>
</html>
<!-- document.querySelector("#cameraWrapper").object3D.position.set(1, 1, 1); -->
